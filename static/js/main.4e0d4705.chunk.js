(this.webpackJsonpgip=this.webpackJsonpgip||[]).push([[0],{55:function(e,t,r){},56:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(24),o=r(3),s=r(0),i={dark:{backgroundColor:"black",color:"white"},light:{backgroundColor:"white",color:"black"}},u={dark:!1,theme:i.light,toggle:function(){}},l=c.a.createContext(u),j=function(e){var t=e.children,r=Object(n.useState)(!1),c=Object(o.a)(r,2),a=c[0],u=c[1];Object(n.useEffect)((function(){var e="true"===localStorage.getItem("dark");u(e)}),[a]);var j=a?i.dark:i.light;return Object(s.jsx)(l.Provider,{value:{theme:j,dark:a,toggle:function(){var e=!a;localStorage.setItem("dark",JSON.stringify(e)),u(e)}},children:t})},b=r(13),d=function(e){var t=e.onSearchChange;return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-lg-3 mx-auto",children:Object(s.jsx)("div",{className:"input-group",children:Object(s.jsx)("input",{type:"search",id:"form1",className:"form-control",placeholder:"search",onChange:function(e){return r=e.target.value,void t(r);var r}})})})})})},f=function(e,t){var r=e.gif,c=Object(n.useState)(r.images.downsized.url),a=Object(o.a)(c,2),i=a[0],u=a[1];return Object(s.jsx)("div",{ref:t,className:"gif-image",onClick:function(){i===r.images.original_still.url?u(r.images.downsized.url):u(r.images.original_still.url)},children:Object(s.jsx)("img",{src:i,alt:r.title})},r.id)},g=Object(n.forwardRef)(f),h=function(e){var t=e.results,r=e.showLoader,c=e.setOffset,a=Object(n.useRef)(),o=Object(n.useCallback)((function(e){r||(a.current&&a.current.disconnect(),a.current=new IntersectionObserver((function(e){e[0].isIntersecting&&c((function(e){return e+1}))})),e&&a.current.observe(e))}),[r]);return Object(s.jsx)("div",{className:"gif-results",children:null===t||void 0===t?void 0:t.map((function(e,r){return t.length===r+1?Object(s.jsx)(g,{ref:o,gif:e},e.id):Object(s.jsx)(g,{gif:e},e.id)}))})},O=function(){return Object(s.jsxs)("div",{className:"loader",children:[Object(s.jsx)("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})]})},v="Ry0eamJEjRqWXJXSDH77bU8oWT0DhXYr",p=function(){return Object(s.jsx)("h1",{className:"error",children:"Something went wrong, Please try again!"})},m=r(6),x=r(11),k=r(12),w=r.n(k),y="https://api.giphy.com/v1/gifs/trending",C="https://api.giphy.com/v1/gifs/search",S=function(){var e=Object(x.a)(Object(m.a)().mark((function e(){var t,r,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,w()(y,{params:{api_key:v}});case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n=null;case 10:return e.abrupt("return",n?null===(t=n)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.data:n);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(Object(m.a)().mark((function e(t,r){var n,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w()(C,{params:{api_key:v,q:t,offset:r}});case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a=null;case 9:return e.abrupt("return",a?null===(n=a)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.data:a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),I=function(e,t){var r;return function(){for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];var o=this;clearTimeout(r),r=setTimeout((function(){e.apply(o,c)}),t)}},J=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),i=Object(o.a)(a,2),u=i[0],l=i[1],j=Object(n.useState)(0),f=Object(o.a)(j,2),g=f[0],v=f[1],m=Object(n.useState)(""),x=Object(o.a)(m,2),k=x[0],w=x[1];Object(n.useEffect)((function(){k?N(k,g).then((function(e){l(!1),c((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))}))})):r&&0===r.length&&(l(!0),S().then((function(e){l(!1),c(e)})))}),[g,k]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d,{onSearchChange:I((function(e){c([]),l(!0),w(e)}),1e3)}),null==r?Object(s.jsx)(p,{}):u?Object(s.jsx)(O,{}):Object(s.jsx)(h,{results:r,showLoader:u,offset:g,setOffset:v})]})};r(55);function R(){var e=Object(n.useContext)(l),t=e.theme,r=e.toggle,c=e.dark;return Object(s.jsxs)("div",{className:"App",style:{backgroundColor:t.backgroundColor,color:t.color},children:[Object(s.jsxs)("button",{type:"button",onClick:r,style:{backgroundColor:t.backgroundColor,color:t.color,outline:"none",margin:"1em"},children:["Toggle to ",c?"Light":"Dark"," theme"]}),Object(s.jsx)(J,{})]})}var E=document.getElementById("root");Object(a.createRoot)(E).render(Object(s.jsx)(n.StrictMode,{children:Object(s.jsx)(j,{children:Object(s.jsx)(R,{})})}))}},[[56,1,2]]]);
//# sourceMappingURL=main.4e0d4705.chunk.js.map