{"version":3,"sources":["context/theme-context.js","components/SearchBar.jsx","components/GifImage.jsx","components/GifResults.jsx","common/Loader.jsx","utils/constant.js","common/Error.jsx","utils/endpoint.js","services/gif.service.js","utils/utils.js","components/GifSearchApp.jsx","App.js","index.js"],"names":["themes","dark","backgroundColor","color","light","initialState","theme","toggle","ThemeContext","React","createContext","ThemeProvider","children","useState","setDark","useEffect","isDark","localStorage","getItem","Provider","value","setItem","JSON","stringify","SearchBar","onSearchChange","className","type","id","placeholder","onChange","event","searchInput","target","GifImage","ref","gif","images","downsized","url","source","setSource","onClick","original_still","src","alt","title","forwardRef","GifResults","results","showLoader","setOffset","observer","useRef","lastGifIndex","useCallback","element","current","disconnect","IntersectionObserver","entries","isIntersecting","prevOffset","observe","map","index","length","Loader","api_key","Error","GIF_API","getGifTrendingLogic","trendingData","axios","params","data","getGifDataBySearchLogic","inputSearch","offset","q","searchData","debounceFunc","func","delay","timer","args","context","this","clearTimeout","setTimeout","apply","GifSearchApp","gifData","setGifData","setShowLoader","setInputSearch","then","prevGifData","App","useContext","style","outline","margin","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.4e0d4705.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst themes = {\r\n  dark: {\r\n    backgroundColor: \"black\",\r\n    color: \"white\"\r\n  },\r\n  light: {\r\n    backgroundColor: \"white\",\r\n    color: \"black\"\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  dark: false,\r\n  theme: themes.light,\r\n  toggle: () => {}\r\n};\r\nconst ThemeContext = React.createContext(initialState);\r\n\r\nconst ThemeProvider = ({ children }) => {\r\n  const [dark, setDark] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isDark = localStorage.getItem(\"dark\") === \"true\";\r\n    setDark(isDark);\r\n  }, [dark]);\r\n\r\n  const toggle = () => {\r\n    const isDark = !dark;\r\n    localStorage.setItem(\"dark\", JSON.stringify(isDark));\r\n    setDark(isDark);\r\n  };\r\n\r\n  const theme = dark ? themes.dark : themes.light;\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, dark, toggle }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport { ThemeProvider, ThemeContext };\r\n","import React from \"react\";\r\n\r\nconst SearchBar = ({ onSearchChange }) => {\r\n  const handleChange = (searchInput) => {\r\n    onSearchChange(searchInput);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-3 mx-auto\">\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"search\"\r\n              id=\"form1\"\r\n              className=\"form-control\"\r\n              placeholder=\"search\"\r\n              onChange={(event) => handleChange(event.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState, forwardRef } from \"react\";\r\n\r\nconst GifImage = ({ gif }, ref) => {\r\n  const [source, setSource] = useState(gif.images.downsized.url);\r\n  const onGifSelect = () => {\r\n    source === gif.images.original_still.url\r\n      ? setSource(gif.images.downsized.url)\r\n      : setSource(gif.images.original_still.url);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={gif.id}\r\n      ref={ref}\r\n      className=\"gif-image\"\r\n      onClick={() => onGifSelect()}\r\n    >\r\n      <img src={source} alt={gif.title} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default forwardRef(GifImage);\r\n","import React, { useCallback, useRef } from \"react\";\r\nimport GifImage from \"./GifImage\";\r\n\r\nconst GifResults = ({ results, showLoader, setOffset }) => {\r\n  const observer = useRef();\r\n\r\n  const lastGifIndex = useCallback(\r\n    (element) => {\r\n      if (showLoader) return;\r\n      observer.current && observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        entries[0].isIntersecting && setOffset((prevOffset) => prevOffset + 1);\r\n      });\r\n      element && observer.current.observe(element);\r\n    },\r\n    [showLoader]\r\n  );\r\n\r\n  return (\r\n    <div className=\"gif-results\">\r\n      {results?.map((gif, index) => {\r\n        if (results.length === index + 1) {\r\n          return <GifImage ref={lastGifIndex} key={gif.id} gif={gif} />;\r\n        } else {\r\n          return <GifImage key={gif.id} gif={gif} />;\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GifResults;\r\n","import React from \"react\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <i className=\"fa fa-spinner fa-pulse fa-3x fa-fw\"></i>\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","export const api_key = \"Ry0eamJEjRqWXJXSDH77bU8oWT0DhXYr\";\r\nexport const ERROR_MESSAGE = \"Something went wrong, Please try again!\";\r\n","import React from \"react\";\r\nimport { ERROR_MESSAGE } from \"../utils/constant\";\r\n\r\nconst Error = () => {\r\n  return <h1 className=\"error\">{ERROR_MESSAGE}</h1>;\r\n};\r\n\r\nexport default Error;\r\n","export const GIF_API = {\r\n  TRENDING_API: \"https://api.giphy.com/v1/gifs/trending\",\r\n  SEARCH_API: \"https://api.giphy.com/v1/gifs/search\"\r\n};\r\n","import axios from \"axios\";\r\nimport { api_key } from \"../utils/constant\";\r\nimport { GIF_API } from \"../utils/endpoint\";\r\n\r\nexport const getGifTrendingLogic = async () => {\r\n  let trendingData = null;\r\n  try {\r\n    trendingData = await axios(GIF_API.TRENDING_API, {\r\n      params: {\r\n        api_key\r\n      }\r\n    });\r\n  } catch {\r\n    trendingData = null;\r\n  }\r\n\r\n  return trendingData ? trendingData?.data?.data : trendingData;\r\n};\r\n\r\nexport const getGifDataBySearchLogic = async (inputSearch, offset) => {\r\n  let searchData;\r\n  try {\r\n    searchData = await axios(GIF_API.SEARCH_API, {\r\n      params: {\r\n        api_key,\r\n        q: inputSearch,\r\n        offset: offset\r\n      }\r\n    });\r\n  } catch {\r\n    searchData = null;\r\n  }\r\n\r\n  return searchData ? searchData?.data?.data : searchData;\r\n};\r\n","export const debounceFunc = (func, delay) => {\r\n  let timer;\r\n  return function (...args) {\r\n    const context = this;\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      func.apply(context, args);\r\n    }, delay);\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport GifResults from \"./GifResults\";\r\nimport Loader from \"../common/Loader\";\r\nimport Error from \"../common/Error\";\r\nimport {\r\n  getGifTrendingLogic,\r\n  getGifDataBySearchLogic\r\n} from \"../services/gif.service\";\r\nimport { debounceFunc } from \"../utils/utils\";\r\n\r\nconst GifSearchApp = () => {\r\n  const [gifData, setGifData] = useState([]);\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [offset, setOffset] = useState(0);\r\n  const [inputSearch, setInputSearch] = useState(\"\");\r\n\r\n  const getGifTrendingData = () => {\r\n    setShowLoader(true);\r\n    getGifTrendingLogic().then((data) => {\r\n      setShowLoader(false);\r\n      setGifData(data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    inputSearch\r\n      ? getGifDataBySearchLogic(inputSearch, offset).then((data) => {\r\n          setShowLoader(false);\r\n          setGifData((prevGifData) => [...prevGifData, ...data]);\r\n        })\r\n      : gifData && gifData.length === 0 && getGifTrendingData();\r\n  }, [offset, inputSearch]);\r\n\r\n  const onSearchChange = (inputSearch) => {\r\n    setGifData([]);\r\n    setShowLoader(true);\r\n    setInputSearch(inputSearch);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchBar onSearchChange={debounceFunc(onSearchChange, 1000)} />\r\n      {gifData == null ? (\r\n        <Error />\r\n      ) : showLoader ? (\r\n        <Loader />\r\n      ) : (\r\n        <GifResults\r\n          results={gifData}\r\n          showLoader={showLoader}\r\n          offset={offset}\r\n          setOffset={setOffset}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GifSearchApp;\r\n","import React, { useContext } from \"react\";\nimport GifSearchApp from \"./components/GifSearchApp\";\nimport { ThemeContext } from \"./context/theme-context\";\n\nimport \"./styles.css\";\n\nexport default function App() {\n  const { theme, toggle, dark } = useContext(ThemeContext);\n\n  return (\n    <div\n      className=\"App\"\n      style={{ backgroundColor: theme.backgroundColor, color: theme.color }}\n    >\n      <button\n        type=\"button\"\n        onClick={toggle}\n        style={{\n          backgroundColor: theme.backgroundColor,\n          color: theme.color,\n          outline: \"none\",\n          margin: \"1em\"\n        }}\n      >\n        Toggle to {!dark ? \"Dark\" : \"Light\"} theme\n      </button>\n      <GifSearchApp />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { ThemeProvider } from \"./context/theme-context\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </StrictMode>\n);\n"],"sourceRoot":""}